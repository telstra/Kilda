digraph {
compound=true;
subgraph cluster_StateMachine {
label="org.openkilda.wfm.topology.flowhs.fsm.delete.FlowDeleteFsm";
FLOW_REMOVED [label="FLOW_REMOVED"];
FINISHED [label="FINISHED"];
FINISHED_WITH_ERROR [label="FINISHED_WITH_ERROR"];
NOTIFY_FLOW_MONITOR [label="NOTIFY_FLOW_MONITOR"];
NOTIFY_FLOW_MONITOR_WITH_ERROR [label="NOTIFY_FLOW_MONITOR_WITH_ERROR"];
REMOVING_FLOW [label="REMOVING_FLOW"];
FLOW_VALIDATED [label="FLOW_VALIDATED"];
RULES_REMOVED [label="RULES_REMOVED"];
INITIALIZED [label="INITIALIZED"];
PATHS_REMOVED [label="PATHS_REMOVED"];
DEALLOCATING_RESOURCES [label="DEALLOCATING_RESOURCES"];
RESOURCES_DEALLOCATED [label="RESOURCES_DEALLOCATED"];
REMOVING_RULES [label="REMOVING_RULES"];
REVERTING_FLOW_STATUS [label="REVERTING_FLOW_STATUS"];

FLOW_REMOVED -> NOTIFY_FLOW_MONITOR [ label="NEXT"];
NOTIFY_FLOW_MONITOR -> FINISHED [ label="NEXT" ];
FLOW_REMOVED -> NOTIFY_FLOW_MONITOR_WITH_ERROR [ label="ERROR"];
REMOVING_FLOW -> FLOW_REMOVED [ label="NEXT"];
FLOW_VALIDATED -> REMOVING_RULES [ label="NEXT"];
FLOW_VALIDATED -> REVERTING_FLOW_STATUS [ label="TIMEOUT"];
FLOW_VALIDATED -> REVERTING_FLOW_STATUS [ label="ERROR"];
RULES_REMOVED -> PATHS_REMOVED [ label="NEXT"];
INITIALIZED -> FLOW_VALIDATED [ label="NEXT"];
INITIALIZED -> FINISHED_WITH_ERROR [ label="TIMEOUT"];
PATHS_REMOVED -> DEALLOCATING_RESOURCES [ label="NEXT"];
PATHS_REMOVED -> DEALLOCATING_RESOURCES [ label="ERROR"];
DEALLOCATING_RESOURCES -> RESOURCES_DEALLOCATED [ label="NEXT"];
RESOURCES_DEALLOCATED -> REMOVING_FLOW [ label="NEXT"];
RESOURCES_DEALLOCATED -> REMOVING_FLOW [ label="ERROR"];
REMOVING_RULES -> REMOVING_RULES [ label="RESPONSE_RECEIVED"];
REMOVING_RULES -> REMOVING_RULES [ label="ERROR_RECEIVED"];
REMOVING_RULES -> RULES_REMOVED [ label="RULES_REMOVED"];
REMOVING_RULES -> REVERTING_FLOW_STATUS [ label="ERROR"];
REVERTING_FLOW_STATUS -> NOTIFY_FLOW_MONITOR_WITH_ERROR [ label="NEXT"];
REVERTING_FLOW_STATUS -> NOTIFY_FLOW_MONITOR_WITH_ERROR [ label="ERROR"];
NOTIFY_FLOW_MONITOR_WITH_ERROR -> FINISHED_WITH_ERROR [ label="NEXT"];
}}
