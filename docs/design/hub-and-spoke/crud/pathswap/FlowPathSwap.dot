digraph {
compound=true;
subgraph cluster_StateMachine {
label="org.openkilda.wfm.topology.flowhs.fsm.pathswap.FlowPathSwapFsm";
FINISHED_WITH_ERROR [label="FINISHED_WITH_ERROR"];
VALIDATING_INGRESS_RULES [label="VALIDATING_INGRESS_RULES"];
OLD_RULES_REMOVED [label="OLD_RULES_REMOVED"];
INITIALIZED [label="INITIALIZED"];
REVERTING_FLOW_STATUS [label="REVERTING_FLOW_STATUS"];
INGRESS_RULES_INSTALLED [label="INGRESS_RULES_INSTALLED"];
REVERTING_PATHS_SWAP [label="REVERTING_PATHS_SWAP"];
NEW_RULES_REVERTED [label="NEW_RULES_REVERTED"];
REMOVING_OLD_RULES [label="REMOVING_OLD_RULES"];
FINISHED [label="FINISHED"];
NOTIFY_FLOW_MONITOR [label="NOTIFY_FLOW_MONITOR"];
NOTIFY_FLOW_MONITOR_WITH_ERROR [label="NOTIFY_FLOW_MONITOR_WITH_ERROR"];
FLOW_UPDATED [label="FLOW_UPDATED"];
PATHS_SWAP_REVERTED [label="PATHS_SWAP_REVERTED"];
UPDATING_FLOW_STATUS [label="UPDATING_FLOW_STATUS"];
FLOW_STATUS_UPDATED [label="FLOW_STATUS_UPDATED"];
REVERTING_NEW_RULES [label="REVERTING_NEW_RULES"];
INSTALLING_INGRESS_RULES [label="INSTALLING_INGRESS_RULES"];
INGRESS_RULES_VALIDATED [label="INGRESS_RULES_VALIDATED"];
FLOW_VALIDATED [label="FLOW_VALIDATED"];

VALIDATING_INGRESS_RULES -> VALIDATING_INGRESS_RULES [ label="RESPONSE_RECEIVED"];
VALIDATING_INGRESS_RULES -> VALIDATING_INGRESS_RULES [ label="ERROR_RECEIVED"];
VALIDATING_INGRESS_RULES -> INGRESS_RULES_VALIDATED [ label="RULES_VALIDATED"];
VALIDATING_INGRESS_RULES -> REVERTING_PATHS_SWAP [ label="TIMEOUT"];
VALIDATING_INGRESS_RULES -> REVERTING_PATHS_SWAP [ label="MISSING_RULE_FOUND"];
OLD_RULES_REMOVED -> UPDATING_FLOW_STATUS [ label="NEXT"];
INITIALIZED -> FLOW_VALIDATED [ label="NEXT"];
INITIALIZED -> FINISHED_WITH_ERROR [ label="TIMEOUT"];
REVERTING_FLOW_STATUS -> NOTIFY_FLOW_MONITOR_WITH_ERROR [ label="ERROR"];
REVERTING_FLOW_STATUS -> NOTIFY_FLOW_MONITOR_WITH_ERROR [ label="NEXT"];
INGRESS_RULES_INSTALLED -> VALIDATING_INGRESS_RULES [ label="NEXT"];
REVERTING_PATHS_SWAP -> PATHS_SWAP_REVERTED [ label="NEXT"];
NEW_RULES_REVERTED -> REVERTING_FLOW_STATUS [ label="NEXT"];
NEW_RULES_REVERTED -> REVERTING_FLOW_STATUS [ label="ERROR"];
REMOVING_OLD_RULES -> REMOVING_OLD_RULES [ label="RESPONSE_RECEIVED"];
REMOVING_OLD_RULES -> REMOVING_OLD_RULES [ label="ERROR_RECEIVED"];
REMOVING_OLD_RULES -> OLD_RULES_REMOVED [ label="RULES_REMOVED"];
REMOVING_OLD_RULES -> OLD_RULES_REMOVED [ label="TIMEOUT"];
REMOVING_OLD_RULES -> OLD_RULES_REMOVED [ label="ERROR"];
FLOW_UPDATED -> INSTALLING_INGRESS_RULES [ label="NEXT"];
PATHS_SWAP_REVERTED -> REVERTING_NEW_RULES [ label="NEXT"];
PATHS_SWAP_REVERTED -> REVERTING_NEW_RULES [ label="ERROR"];
UPDATING_FLOW_STATUS -> FLOW_STATUS_UPDATED [ label="NEXT"];
FLOW_STATUS_UPDATED -> NOTIFY_FLOW_MONITOR [ label="NEXT"];
NOTIFY_FLOW_MONITOR -> FINISHED [ label="NEXT"];
FLOW_STATUS_UPDATED -> NOTIFY_FLOW_MONITOR_WITH_ERROR [ label="ERROR"];
REVERTING_NEW_RULES -> REVERTING_NEW_RULES [ label="RESPONSE_RECEIVED"];
REVERTING_NEW_RULES -> REVERTING_NEW_RULES [ label="ERROR_RECEIVED"];
REVERTING_NEW_RULES -> NEW_RULES_REVERTED [ label="RULES_REMOVED"];
REVERTING_NEW_RULES -> NEW_RULES_REVERTED [ label="ERROR"];
INSTALLING_INGRESS_RULES -> INSTALLING_INGRESS_RULES [ label="RESPONSE_RECEIVED"];
INSTALLING_INGRESS_RULES -> INSTALLING_INGRESS_RULES [ label="ERROR_RECEIVED"];
INSTALLING_INGRESS_RULES -> REVERTING_PATHS_SWAP [ label="TIMEOUT"];
INSTALLING_INGRESS_RULES -> REVERTING_PATHS_SWAP [ label="ERROR"];
INSTALLING_INGRESS_RULES -> INGRESS_RULES_INSTALLED [ label="RULES_INSTALLED"];
INGRESS_RULES_VALIDATED -> REMOVING_OLD_RULES [ label="NEXT"];
FLOW_VALIDATED -> FINISHED_WITH_ERROR [ label="ERROR"];
FLOW_VALIDATED -> FLOW_UPDATED [ label="NEXT"];
NOTIFY_FLOW_MONITOR_WITH_ERROR -> FINISHED_WITH_ERROR [ label="NEXT"];
}}
